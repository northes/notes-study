## 搜索引擎

### 好用的

1. [Elasticsearch](https://www.elastic.co/cn/)
2. [Sonic](https://github.com/valeriansaliou/sonic)
3. [Meilisearch](https://github.com/meilisearch/meilisearch)
4. [Bleve](https://github.com/blevesearch/bleve)
	- 分词测试：[Bleve Text Analysis Wizard](https://bleveanalysis.couchbase.com/analysis)
5. RedisSearch [GitHub - RediSearch/RediSearch: A query and indexing engine for Redis, providing secondary indexing, full-text search, vector similarity search and aggregations.](https://github.com/RediSearch/RediSearch)
	1. 文档：[RediSearch | Redis](https://redis.io/docs/stack/search/)

### 其他

#### Go

1. [WuKong](https://github.com/huichen/wukong)
2. Riot [GitHub - go-ego/riot: Go Open Source, Distributed, Simple and efficient Search Engine; Warning: This is V1 and beta version, because of big memory consume, and the V2 will be rewrite all code.](https://github.com/go-ego/riot)
3. Bluge [GitHub - blugelabs/bluge: indexing library for Go](https://github.com/blugelabs/bluge)
4. [Gofund](https://github.com/sea-team/gofound) 

#### Java

1. Lucene [Apache Lucene - Welcome to Apache Lucene](https://lucene.apache.org/)
2. Solr [Welcome to Apache Solr - Apache Solr](https://solr.apache.org/)


#### C/C++

1. Sphinx [GitHub - sphinxsearch/sphinx: Sphinx search server](https://github.com/sphinxsearch/sphinx/)
2. manticoresearch [GitHub - manticoresoftware/manticoresearch: Easy to use open source fast database for search | Good alternative to Elasticsearch now | Drop-in replacement for E in the ELK soon](https://github.com/manticoresoftware/manticoresearch/)



## 分词器

- [GitHub - fxsjy/jieba: 结巴中文分词](https://github.com/fxsjy/jieba)
- [GitHub - medcl/elasticsearch-analysis-ik: The IK Analysis plugin integrates Lucene IK analyzer into elasticsearch, support customized dictionary.](https://github.com/medcl/elasticsearch-analysis-ik)
- [GitHub - hankcs/HanLP: 中文分词 词性标注 命名实体识别 依存句法分析 成分句法分析 语义依存分析 语义角色标注 指代消解 风格转换 语义相似度 新词发现 关键词短语提取 自动摘要 文本分类聚类 拼音简繁转换 自然语言处理](https://github.com/hankcs/HanLP)
- [GitHub - NLPchina/ansj\_seg: ansj分词.ict的真正java实现.分词效果速度都超过开源版的ict. 中文分词,人名识别,词性标注,用户自定义词典](https://github.com/NLPchina/ansj_seg)
- [GitHub - lionsoul2014/friso: High performance Chinese tokenizer with both GBK and UTF-8 charset support based on MMSEG algorithm developed by ANSI C. Completely based on modular implementation and can be easily embedded in other programs, like: MySQL, PostgreSQL, PHP, etc.](https://github.com/lionsoul2014/friso)

### 测试

```
工信处女干事每月经过下属科室都要亲口交代24口交换机等技术性器件的安装工作
```

```
工信處女幹事每月經過下屬科室都要親口交代24口交換機等技術性器件的安裝工作
```

```
SCANV网址安全中心(http://scanv.com)是一个综合性的网址安全服务平台。通过网址安全中心，用户可以方便的查询到要访问的网址是否存在恶意行为，同时可以在SCANV中在线举报曝光违法恶意网站。
```

```
随着页游兴起到现在的页游繁盛，依赖于存档进行逻辑判断的设计减少了，但这块也不能完全忽略掉。总会有一些功能是需要调用本地存档的。例如登录模块中，记住密码功能，会将密码信息存储在本地，以IE浏览器为例，在C:\Documents and Settings\（你的Windows用户名）\Application Data\Macromedia&nbsp;\Flash Player\#SharedObjects\（一些随机数字和字母）\ 文件夹下就可以看到存储密码的SOL文件，可以使用minerva工具查看，如下图所示，密码明文明文存储的，SOL文件是永久性保存的，除非手动清除，如果玩家在公共环境下登录，就会有盗号威胁。来自http://www.baidu.com/及http：、www.baidu...com
```


## 选型

需要确定，对延时的要求、机器内存、预估的数据量

### bleve

https://github.com/blevesearch/bleve

Go实现，⭐ 9.1k

亮点

- 以包的形式提供
- 支持持久化索引、纯内存索引模式
- 支持按列排序（默认按分数）、支持分页（From、Size）
- 支持自定义分词器（自带的 cjk 对中文的支持一般，可替换为 jieba 分词器，自定义词典与停用词）
- 支持直接 struct 传入
- 支持 http 接口
- 支持批量插入、修改、删除等

不足

- 无 admin 界面
- 文档页炸了，且文档描述较模糊
- 如果使用自定义分词器，需要额外管理词典文件

存储

- 支持文件持久化存储
- 支持纯内存索引

### gofund

https://github.com/sea-team/gofound

Go实现，⭐ 1.4k

优点

- 提供 http、grpc 接口
- 支持自定义词典
- 提供二进制文件或自行编译
- 提供 admin 界面
- 支持批量插入、修改

缺点

- 分词器仅支持简单分词
- 无官方 SDK
- 官网已停用（挂域名出售页）

存储

- 文件分片存储


### Meilisearch

https://github.com/meilisearch/meilisearch

Rust 实现，⭐ 37.4k

优点

- 提供 admin 界面
- 使用内存映射（启动时将所有数据载入内存）
- 基于 Jieba 分词的中文分词器
- 支持按列、分数排序
- 支持设置同义词、停用词、拼写错误容忍度
- 支持分页
- 支持多租户
- 支持单个字母的搜索
- 功能更丰富，可自定义的设置更细化
- 提供官方 Docker 镜像

缺点

- 带有遥测，可关闭
- 根据内存总量占用 2/3 的内存用于索引，根据核心总数占用一半。（最多）
- 仅提供 HTTP API

存储

- LMDB [LMDB: Lightning Memory-Mapped Database Manager (LMDB)](http://www.lmdb.tech/doc/)

接入

- 官方 Go SDK

### Sonic

https://github.com/valeriansaliou/sonic

Rust 实现，⭐ 18.3K

优势

- 不存储原始文本，仅存储经过哈希后结果对象，返回主键ID（需要通过主键ID查MySQL等）
- 相对安全，入侵者无法得知原始文本
- 对 RAM 的压力小
- 支持输入纠错
- 提供第三方Go SDK （最后更新 2021 ，go v1.14）
- 提供官方 Docker 镜像

缺点

- 使用纯 Disk 搜索，依赖于磁盘的随机访问能力
- 使用私有的 Snoic Channel 协议，无 HTTP API
- 新增文档需等待周期性的索引任务完成才可查

### RedisSearch

作为可选模块开启，如需支持 `JSON` 文档的搜索需要同时开启 `RedisJSON` 模块

优势

- 索引同步，一但`SET`返回OK，则表示新增的文档在索引可查

缺点

- ❓`go-redis` 库未实现 `search` 方法，需自行拼接语句


## 测试

DB Total：19091

Index：11983 （除去空RoleName）