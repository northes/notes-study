## 前置条件

1. 安装并开启 `metrics-server`
2. Pod 中定义了 `resources`

## 创建 HPA(HorizontalPodAutoscaler)

```bash
kubectl autoscale deployment php-apache --cpu-percent=50 --min=1 --max=10
```

HPA 控制器将增加和减少副本的数量，以包子所有Pod的平均CPU利用率为50%。

如清单中 `resources.requests.cpu` 为 `200m`，则 50% 的利用率则为 `100m`


## 获取 HPA

```bash
kubectl get hpa
```