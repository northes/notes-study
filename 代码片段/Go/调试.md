## Delve

```bash
https://github.com/go-delve/delve
```

## 安装

```bash
go install github.com/go-delve/delve/cmd/dlv@latest
```

## 运行

```bash
# 当前处于入口文件（main）目录
dlv debug
# 指定入口文件或目录
dlv debug github.com/xx/foo/bar
dlv debug github.com/xx/foo/bar/main.go
# 传递参数运行
dlv debug github.com/xx/foo/bar -- -arg1 value
```

```bash
# 运行测试
dlv test
```

## 命令

|命令|解释|示例|
|---|---|---|
|help|查看帮助||
|funcs|搜索函数，可指定包名，正则表达式匹配|`funcs: test.Test*`|
|break(b)|设置断点|`b main.main`,在 `main.main` 函数处设置断点|
|breakpoints(bp)|查看断点信息||
|continue(c)|继续执行，知道遇到下一个断点或结束||
|next(c)|执行下一行,不会进入函数内部按行执行||
|step(s)|单步执行，会进入函数内部按行执行||
|stepout(so)|跳出当前函数||
|restart(r)|重新运行||
|gr|查看goroutine||
|grs|查看所有goroutine||



help: 查看帮助
funcs: 搜索函数，如 `funcs: test.Test*`，正则表达式匹配

