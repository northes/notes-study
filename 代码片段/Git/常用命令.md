## Rebase 变基合并

```bash
# 当前处于分支 bugFix
git rebase main
# 表示将当前分支的所有提交复制到 main 分支后面，HEAD 指向的仍然是 bugFix。不影响 main 分支

# 快进
git checkout main
git rebase bugFix
# 此举将会使 main 分支的指针快速移动到 rebase 过来的 bugFix 分支上的最新节点处。将会影响到 main 分支

# 交互式 rebase，添加 -i 参数。从当前 HEAD 指向的提交开始为 1，向上数 4 个提交
git rebase -i HEAD~4
```

## 改变 HEAD 指向

```bash
git checkout <hash>
git checkout <branch>
```

## 相对位置

```bash
# 当前位置的上一个 commit
git checkout HEAD^
# ~ 后面不跟数字同样表示上一个
git checkout HEAD~
# 当前位置的上 n 个 commit
git checkout HEAD~2
```

## 将分支强制指向某个提交

```bash
# 将 main 分支强制指向从当前位置开始，向上数三个提交处
git branch -f main HEAD~3
```

## 回滚

```bash
# 向上回退一个提交，即当前提交将不再存在，不保留已撤销的提交
git reset HEAD~1
# 回滚当前提交，通过提交一个新的 commit 的方式实现，保留已撤销提交
git revert HEAD
```

## 遴选（cherry-pick）

```bash
# 将某几个提交复制到当前 HEAD 的下面
git cherry-pick <hash1> <hash3> <hash7>
# 可以跳过不提交某些提交
```